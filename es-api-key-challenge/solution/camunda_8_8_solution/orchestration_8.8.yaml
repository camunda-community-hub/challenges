orchestration:
  extraVolumes:
    - name: es-api-plugin
      secret:
        secretName: es-api-key-plugin-jar  # <— the Secret you just created (#  kubectl create secret generic es-api-key-plugin-jar --from-file=es-api-key-header-plugin.jar)
  extraVolumeMounts:
    - name: es-api-plugin
      mountPath: /usr/local/plugins/es-api-key-plugin.jar # full path
      subPath: es-api-key-plugin.jar

  env:
    # Operate importer → Zeebe Elasticsearch
    - name: CAMUNDA_OPERATE_ZEEBEELASTICSEARCH_INTERCEPTORPLUGINS_0_ID
      value: es-api-key
    - name: CAMUNDA_OPERATE_ZEEBEELASTICSEARCH_INTERCEPTORPLUGINS_0_CLASSNAME
      value: com.example.camunda.optimize.es.ElasticApiKeyHeaderPlugin
    - name: CAMUNDA_OPERATE_ZEEBEELASTICSEARCH_INTERCEPTORPLUGINS_0_JARPATH
      value: /usr/local/plugins/es-api-key-plugin.jar

    # Operate → Elasticsearch client
    - name: CAMUNDA_OPERATE_ELASTICSEARCH_INTERCEPTORPLUGINS_0_ID
      value: es-api-key
    - name: CAMUNDA_OPERATE_ELASTICSEARCH_INTERCEPTORPLUGINS_0_CLASSNAME
      value: com.example.camunda.optimize.es.ElasticApiKeyHeaderPlugin
    - name: CAMUNDA_OPERATE_ELASTICSEARCH_INTERCEPTORPLUGINS_0_JARPATH
      value: /usr/local/plugins/es-api-key-plugin.jar

    # Tasklist importer → Zeebe Elasticsearch
    - name: CAMUNDA_TASKLIST_ZEEBEELASTICSEARCH_INTERCEPTORPLUGINS_0_ID
      value: es-api-key
    - name: CAMUNDA_TASKLIST_ZEEBEELASTICSEARCH_INTERCEPTORPLUGINS_0_CLASSNAME
      value: com.example.camunda.optimize.es.ElasticApiKeyHeaderPlugin
    - name: CAMUNDA_TASKLIST_ZEEBEELASTICSEARCH_INTERCEPTORPLUGINS_0_JARPATH
      value: /usr/local/plugins/es-api-key-plugin.jar

    # Tasklist → Elasticsearch client
    - name: CAMUNDA_TASKLIST_ELASTICSEARCH_INTERCEPTORPLUGINS_0_ID
      value: es-api-key
    - name: CAMUNDA_TASKLIST_ELASTICSEARCH_INTERCEPTORPLUGINS_0_CLASSNAME
      value: com.example.camunda.optimize.es.ElasticApiKeyHeaderPlugin
    - name: CAMUNDA_TASKLIST_ELASTICSEARCH_INTERCEPTORPLUGINS_0_JARPATH
      value: /usr/local/plugins/es-api-key-plugin.jar

    # Secret with the actual header value (same pattern as your Zeebe example)
    - name: ES_API_KEY_B64
      valueFrom:
        secretKeyRef:
          name: es-api-key
          key: ES_API_KEY_B64